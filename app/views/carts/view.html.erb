<div class="cart">
  <div class="demo-container mdl-grid">
    <div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
    <div class="demo-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col">
      <h3><%= @current_user.name %>'s cart</h3>
      <% if @order %>
        <% @order.order_items.each do |order_item| %>
          <hr>
          <div class="order-item">
            <div><%= image_tag attachment_url(order_item.book, :photo, :fill, 100, 150, format: "jpg") %></div>
            <ul>
              <li>Title: <%= order_item.book.title %></li>
              <li>Quantity: <%= order_item.quantity %></li>
              <li>Total Price: <%= number_to_currency order_item.total_price %></li>
            </ul>
            <div class="order-img-btn">
              <%= link_to 'Remove from Cart', remove_from_cart_path(book_id: order_item.book_id), class: 'mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect', method: :delete %>
            </div>
          </div>
        <% end %>
        <hr>
        <h5 style="text-align: right;">Order Total: <%= number_to_currency @order.total_price %></h5>
        <div class="checkout">
          <% if @order.order_items.present? %>
            <%= link_to 'Proceed to Checkout', root_path, class: 'mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent' %>
          <% else %>
            <%= link_to 'Keep Shopping', root_path, class: 'mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent' %>            
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>
